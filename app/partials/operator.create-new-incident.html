<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">

    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Create new incident
        </h1>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-md-6">
                <div class="box box-danger">
                    <div class="box-body">
                        <div class="form-group">
                            <label>Incident Type:</label>
                            <select class="form-control" style="width: 100%;" ng-model="incidentDetails.incidentType">
                                <option ng-repeat="type in incidentTypes">{{type}}</option>
                            </select>
                        </div><!-- /.form-group -->
                        <div class="form-group">
                            <label>Incident Name:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-warning"></i>
                                </div>
                                <input type="text" class="form-control" ng-model="incidentDetails.incidentName">
                            </div><!-- /.input group -->

                        </div><!-- /.form group -->
                        <div class="bootstrap-timepicker">
                            <div class="form-group">
                                <label>Time:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-clock-o"></i>
                                    </div>
                                    <input type="text" class="form-control timepicker" ng-model="incidentDetails.time">
                                </div><!-- /.input group -->
                            </div><!-- /.form group -->
                        </div>
                        <div class="form-group">
                            <label>Location:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-location-arrow"></i>
                                </div>
                                <input id="autocomplete" type="text" class="form-control" ng-model="incidentDetails.location">
                            </div>
                        </div><!-- /.form group -->
                        <div class="form-group">
                            <label>Contact Name:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-user"></i>
                                </div>
                                <input type="text" class="form-control" ng-model="incidentDetails.contactName">
                            </div>

                        </div><!-- /.form group -->
                        <!-- phone mask -->
                        <div class="form-group">
                            <label>Contact Number:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-phone"></i>
                                </div>
                                <input id="phoneInput" type="text" class="form-control"
                                       data-inputmask='"mask": "9999 9999"' ng-model="incidentDetails.contactNumber">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <div class="form-group">
                            <label>Description (optional):</label>
                            <textarea class="form-control" ng-model="incidentDetails.description"></textarea>
                        </div><!-- /.form group -->
                        <div class="row">
                            <div class="col-md-5"></div>
                            <div class="col-md-2">
                                <button type="button" class="btn btn-primary btn-block btn-flat" ng-click="submit(incidentDetails)">Submit</button>
                            </div>
                            <div class="col-md-5"></div>
                        </div>
                    </div><!-- /.box-body -->
                </div><!-- /.box -->
            </div><!-- /.col (left) -->
        </div><!-- /.row -->

    </section><!-- /.content -->

</div><!-- /.content-wrapper -->


<script>
    $(function () {
        $(".timepicker").timepicker({
            showInputs: false
        });
        $("#phoneInput").inputmask();
    });
    function initAutocomplete() {
        var autocomplete;
        // Create the autocomplete object, restricting the search to geographical
        // location types.
        autocomplete = new google.maps.places.Autocomplete(
                /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
                {types: ['geocode']});

        // When the user selects an address from the dropdown, populate the address
        // fields in the form.
        autocomplete.addListener('place_changed', fillInAddress);
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBbl1-gNZYMUlPyPg9ARomeN1tpGDuUaEg&libraries=places&callback=initAutocomplete"
        async defer></script>

